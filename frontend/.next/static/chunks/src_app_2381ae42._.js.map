{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/greatware/Desktop/All%20Folders/Projects/Swophere/frontend/src/app/components/listing.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport Swal from 'sweetalert2'\n\ninterface User {\n  id: string;\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n}\n\ninterface Swap {\n  id: number;\n  listing_id: string;\n  title: string;\n  name: string;\n  category: string;\n  country: string;\n  city: string;\n  image_name: string;\n  description: string;\n  amount: number;\n  currency: string;\n  status: string;\n  createdAt: string;\n  interested_swaps: any[];\n  userId: string;\n  user: {\n    firstName: string;\n    username: string;\n    country: string;\n  };\n}\n\ninterface PaginationInfo {\n  page: number;\n  limit: number;\n  total: number;\n  pages: number;\n}\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\n\nexport default function SwapsPage() {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [swaps, setSwaps] = useState<Swap[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [pagination, setPagination] = useState<PaginationInfo>({\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  });\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        // Check if we're in browser environment\n        if (typeof window !== 'undefined') {\n          const storedUser = localStorage.getItem('user');\n          if (storedUser) {\n            const userData = JSON.parse(storedUser);\n            setUser(userData);\n          } else {\n            // If no user in localStorage, redirect to login\n            router.push('/login');\n            return;\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n        router.push('/login');\n      }\n    };\n\n    fetchUserData();\n  }, [router]);\n\n  useEffect(() => {\n    if (user) {\n      fetchSwaps();\n    }\n  }, [user, selectedCategory, pagination.page, searchQuery]);\n\n  const fetchSwaps = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({\n        category: selectedCategory,\n        page: pagination.page.toString(),\n        limit: pagination.limit.toString(),\n        status: 'ACCEPTED'\n      });\n\n      if (searchQuery) {\n        params.append('search', searchQuery);\n      }\n\n      const response = await fetch(`${API_BASE_URL}/api/swaps?${params}`);\n      const data = await response.json();\n      \n      if (data.success) {\n        setSwaps(data.swaps);\n        setPagination(data.pagination);\n      }\n    } catch (error) {\n      console.error('Error fetching swaps:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCategoryChange = (category: string) => {\n    setSelectedCategory(category);\n    setPagination(prev => ({ ...prev, page: 1 }));\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    setPagination(prev => ({ ...prev, page: 1 }));\n    fetchSwaps();\n  };\n\n  const handlePageChange = (newPage: number) => {\n    setPagination(prev => ({ ...prev, page: newPage }));\n  };\n\n  const handleExpressInterest = async (swapId: string, swapUserId: string) => {\n    if (!user) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops\",\n        text: \"Please log in to express interest\"\n      }).then(() => {\n        router.push('/login');\n        return;\n      })\n     \n    }\n\n    // Check if user is trying to express interest in their own swap\n    if (user.userId === swapUserId) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops\",\n        text: \"You cannot express interest in your own swap\"\n      })\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/swaps/interest`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          swapId: swapId,\n          userId: user.userId,\n          message: 'I am interested in this swap!'\n        }),\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        Swal.fire({\n          icon: \"Success\",\n          title: \"Successful\",\n          text: \"Interest expressed successfully!\"\n        }).then(() =>{\n           // Refresh the swaps to update interest status\n          fetchSwaps();\n        }) \n       \n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops!\",\n          text: 'Error expressing interest: ' + data.message\n        })\n      }\n    } catch (error) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops!\",\n        text: 'Error expressing interest'\n      })\n      console.error('Error expressing interest:', error);\n      \n    }\n  };\n\n  const hasUserExpressedInterest = (swap: Swap) => {\n    return swap.interested_swaps?.some(\n      (interest: any) => interest.userId === user?.userId\n    );\n  };\n\n  const truncateDescription = (description: string, maxLength: number = 100) => {\n    if (description.length > maxLength) {\n      return description.substring(0, maxLength) + '...';\n    }\n    return description;\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  if (loading && swaps.length === 0) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:w-8/12\">\n            {/* Search and Filters */}\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n              <div className=\"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between\">\n                {/* Search Form */}\n                <form onSubmit={handleSearch} className=\"flex-1 w-full lg:max-w-md\">\n                  <div className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search swaps...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                    <button\n                      type=\"submit\"\n                      className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200\"\n                    >\n                      Search\n                    </button>\n                  </div>\n                </form>\n\n                {/* Category Filter */}\n                <div className=\"flex items-center gap-4\">\n                  <select \n                    value={selectedCategory}\n                    onChange={(e) => handleCategoryChange(e.target.value)}\n                    className=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"all\">All Categories</option>\n                    <option value=\"goods\">Goods & Items</option>\n                    <option value=\"commodities\">Commodities</option>\n                    <option value=\"services\">Services</option>\n                    <option value=\"handiwork\">Handiwork</option>\n                    <option value=\"IT\">Technology & IT</option>\n                    <option value=\"business\">Business</option>\n                    <option value=\"Trainings\">Trainings</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            {/* Swaps List */}\n            <div className=\"space-y-6\">\n              {swaps.length === 0 ? (\n                <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\n                  <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">No swaps found</h3>\n                  <p className=\"text-gray-500\">\n                    {searchQuery || selectedCategory !== 'all' \n                      ? 'Try adjusting your search or filters' \n                      : 'No swaps available at the moment'\n                    }\n                  </p>\n                </div>\n              ) : (\n                swaps.map((swap) => {\n                  const isOwner = user?.userId === swap.userId;\n                  const hasExpressedInterest = hasUserExpressedInterest(swap);\n                  \n                  return (\n                    <div key={swap.id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition duration-200\">\n                      <div className=\"flex flex-col md:flex-row\">\n                        {/* Image */}\n                        <div className=\"md:w-1/3 relative\">\n                          <img\n                            src={`/swap_images/${swap.image_name}`}\n                            alt={swap.title}\n                            width={400}\n                            height={300}\n                            className=\"w-full h-48 md:h-full object-cover\"\n                          />\n                          <div className=\"absolute top-4 left-4\">\n                            <span className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm capitalize\">\n                              {swap.category.toLowerCase()}\n                            </span>\n                          </div>\n                          {isOwner && (\n                          <div className=\"absolute top-4 right-4\">\n                            <span className={`px-1 py-1 rounded text-sm font-xs ${\n                              swap.status === 'ACCEPTED' ? 'bg-green-100 text-green-800' :\n                              swap.status === 'PENDING' ? 'bg-yellow-100 text-yellow-800' :\n                              'bg-red-100 text-red-800'\n                            }`}>\n                              Owner\n                            </span>\n                          </div>\n                          )}\n                        </div>\n                        \n\n                        {/* Content */}\n                        <div className=\"md:w-2/3 p-6\">\n                          <div className=\"flex justify-between items-start mb-2\">\n                            <h3 className=\"text-xl font-semibold text-gray-900 hover:text-blue-600 transition duration-200\">\n                              <Link href={`/swap/${swap.listing_id}`}>\n                                {swap.title}\n                              </Link>\n                            </h3>\n                            <span className=\"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm\">\n                              {swap.interested_swaps?.length || 0} interests\n                            </span>\n                          </div>\n\n                          <div className=\"space-y-2 mb-4\">\n                            <div className=\"flex items-center text-gray-600\">\n                              <i className=\"fa fa-map-marker mr-2 text-blue-500\"></i>\n                              <span>{swap.city}, {swap.country}</span>\n                            </div>\n                            <div className=\"flex items-center text-gray-600\">\n                              <i className=\"fa fa-user mr-2 text-green-500\"></i>\n                              <span>{swap.user.firstName} (@{swap.user.username})</span>\n                            </div>\n                            <div className=\"flex items-center text-gray-600\">\n                              <i className=\"fa fa-calendar mr-2 text-purple-500\"></i>\n                              <span>Posted {formatDate(swap.createdAt)}</span>\n                            </div>\n                          </div>\n\n                          <p className=\"text-gray-700 mb-4 leading-relaxed\">\n                            {truncateDescription(swap.description)}\n                          </p>\n\n                          <div className=\"flex flex-wrap gap-3\">\n                            <Link \n                              href={`/swap/${swap.listing_id}`}\n                              className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 font-medium\"\n                            >\n                              View Details\n                            </Link>\n                            \n                            {!isOwner && (\n                              <button\n                                onClick={() => handleExpressInterest(swap.listing_id, swap.userId)}\n                                disabled={hasExpressedInterest || !user}\n                                className={`px-6 py-2 rounded-lg transition duration-200 font-medium cursor-pointer ${\n                                  hasExpressedInterest\n                                    ? 'bg-green-500 text-white cursor-default'\n                                    : 'bg-green-600 text-white hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed'\n                                }`}\n                              >\n                                {hasExpressedInterest ? (\n                                  <span className=\"flex items-center\">\n                                    <i className=\"fa fa-check mr-2\"></i>\n                                    Interested\n                                  </span>\n                                ) : (\n                                  'Express Interest'\n                                )}\n                              </button>\n                            )}\n{/*                             \n                            {isOwner && (\n                              <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-lg text-xs font-medium\">\n                                Owner\n                              </span>\n                            )} */}\n                            \n                            <button className=\"text-gray-600 hover:text-red-500 transition duration-200 p-2\">\n                              <i className=\"fa fa-heart\"></i>\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n\n            {/* Pagination */}\n            {pagination.pages > 1 && (\n              <div className=\"mt-8 flex justify-center\">\n                <nav className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => handlePageChange(pagination.page - 1)}\n                    disabled={pagination.page === 1}\n                    className=\"px-4 py-2 rounded-lg border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200\"\n                  >\n                    <i className=\"fa fa-chevron-left\"></i>\n                  </button>\n                  \n                  {Array.from({ length: Math.min(5, pagination.pages) }, (_, i) => {\n                    const pageNum = i + 1;\n                    return (\n                      <button\n                        key={pageNum}\n                        onClick={() => handlePageChange(pageNum)}\n                        className={`px-4 py-2 rounded-lg border transition duration-200 ${\n                          pagination.page === pageNum\n                            ? 'bg-blue-600 text-white border-blue-600'\n                            : 'border-gray-300 text-gray-700 hover:bg-gray-50'\n                        }`}\n                      >\n                        {pageNum}\n                      </button>\n                    );\n                  })}\n\n                  <button\n                    onClick={() => handlePageChange(pagination.page + 1)}\n                    disabled={pagination.page === pagination.pages}\n                    className=\"px-4 py-2 rounded-lg border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200\"\n                  >\n                    <i className=\"fa fa-chevron-right\"></i>\n                  </button>\n                </nav>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"lg:w-4/12\">\n            {/* Categories Widget */}\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center text-gray-800\">\n                <i className=\"fa fa-folder mr-2 text-blue-500\"></i>\n                Categories\n              </h3>\n              <ul className=\"space-y-2\">\n                {[\n                  { name: 'All Categories', value: 'all' },\n                  { name: 'Goods & Items', value: 'goods' },\n                  { name: 'Commodities', value: 'commodities' },\n                  { name: 'Services', value: 'services' },\n                  { name: 'Handiwork', value: 'handiwork' },\n                  { name: 'Technology & IT', value: 'IT' },\n                  { name: 'Business', value: 'business' },\n                  { name: 'Trainings', value: 'Trainings' }\n                ].map((category) => (\n                  <li key={category.value}>\n                    <button\n                      onClick={() => handleCategoryChange(category.value)}\n                      className={`flex items-center w-full text-left p-2 rounded transition duration-200 ${\n                        selectedCategory === category.value\n                          ? 'bg-blue-50 text-blue-600 font-medium'\n                          : 'text-gray-700 hover:text-blue-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      <i className=\"fa fa-angle-double-right mr-2 text-sm\"></i>\n                      {category.name}\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center text-gray-800\">\n                <i className=\"fa fa-chart-bar mr-2 text-green-500\"></i>\n                Quick Stats\n              </h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-600\">Total Swaps</span>\n                  <span className=\"font-semibold text-blue-600\">{pagination.total}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-600\">Current Page</span>\n                  <span className=\"font-semibold text-green-600\">{pagination.page} of {pagination.pages}</span>\n                </div>\n                {user && (\n                  <div className=\"pt-3 border-t border-gray-200\">\n                    <Link\n                      href=\"add-swap\"\n                      className=\"w-full bg-purple-600 text-white text-center py-2 rounded-lg hover:bg-purple-700 transition duration-200 font-medium block\"\n                    >\n                      Create New Swap\n                    </Link>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 965, "column": 0}, "map": {"version":3,"sources":["file:///Users/greatware/Desktop/All%20Folders/Projects/Swophere/frontend/src/app/components/menu.tsx"],"sourcesContent":["// components/Menu.tsx\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport Swal from 'sweetalert2';\nimport { Bell, Layers, User, List, Mail, Power, MessageCircle, Package, CheckCircle, XCircle } from 'lucide-react';\n\nexport interface User {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phone?: string;\n  dateOfBirth?: string;\n  country?: string;\n  state?: string;\n  address?: string;\n  facebook?: string;\n  twitter?: string;\n  linkedin?: string;\n  instagram?: string;\n}\n\ninterface Notification {\n  id: string;\n  userId: string;\n  type: string;\n  title: string;\n  message: string;\n  relatedId?: string;\n  relatedUsername?: string;\n  metadata?: {\n    senderName?: string;\n    messagePreview?: string;\n    swapTitle?: string;\n  };\n  isRead: boolean;\n  createdAt: string;\n}\n\ninterface MenuProps {\n  user: User | null;\n}\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\n\nexport default function Menu({ user }: MenuProps) {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isNotificationsOpen, setIsNotificationsOpen] = useState(false);\n  const [isUserMenuOpen, setIsUserMenuOpen] = useState(false);\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  // Fetch notifications on component mount and when user changes\n  useEffect(() => {\n    if (user?.username) {\n      fetchNotifications();\n      // Set up polling for new notifications every 30 seconds\n      const interval = setInterval(() => {\n        fetchUnreadCount();\n      }, 30000);\n\n      return () => clearInterval(interval);\n    }\n  }, [user?.username]);\n\n  const fetchNotifications = async () => {\n    if (!user?.username) return;\n\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `${API_BASE_URL}/api/notifications/${user.username}?limit=10&unreadOnly=false`\n      );\n      const data = await response.json();\n\n      if (data.success) {\n        setNotifications(data.notifications);\n        setUnreadCount(data.unreadCount);\n      }\n    } catch (error) {\n      console.error('Error fetching notifications:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchUnreadCount = async () => {\n    if (!user?.username) return;\n\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/api/notifications/${user.username}/unread-count`\n      );\n      const data = await response.json();\n\n      if (data.success) {\n        setUnreadCount(data.unreadCount);\n      }\n    } catch (error) {\n      console.error('Error fetching unread count:', error);\n    }\n  };\n\n  const handleNotificationClick = async (notification: Notification) => {\n    // Mark as read\n    if (!notification.isRead) {\n      try {\n        await fetch(`${API_BASE_URL}/api/notifications/${notification.id}/read`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            username: user?.username\n          })\n        });\n\n        // Update local state\n        setNotifications(prev =>\n          prev.map(n => n.id === notification.id ? { ...n, isRead: true } : n)\n        );\n        setUnreadCount(prev => Math.max(0, prev - 1));\n      } catch (error) {\n        console.error('Error marking notification as read:', error);\n      }\n    }\n\n    // Navigate based on notification type\n    if (notification.type === 'MESSAGE' && notification.relatedUsername) {\n      router.push(`/messages?user=${notification.relatedUsername}`);\n    } else if (notification.type === 'SWAP_INTEREST' && notification.relatedId) {\n      router.push(`/swaps/${notification.relatedId}`);\n    } else if (notification.type === 'SWAP_APPROVED' && notification.relatedId) {\n      router.push(`/swaps/${notification.relatedId}`);\n    } else if (notification.type === 'SWAP_REJECTED' && notification.relatedId) {\n      router.push(`/my-listing`);\n    }\n\n    setIsNotificationsOpen(false);\n  };\n\n  const markAllAsRead = async () => {\n    if (!user?.username) return;\n\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/api/notifications/${user.username}/mark-all-read`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n\n      const data = await response.json();\n\n      if (data.success) {\n        setNotifications(prev => prev.map(n => ({ ...n, isRead: true })));\n        setUnreadCount(0);\n      }\n    } catch (error) {\n      console.error('Error marking all as read:', error);\n    }\n  };\n\n  const clearAllNotifications = async () => {\n    if (!user?.username) return;\n\n    const result = await Swal.fire({\n      title: 'Clear All Notifications?',\n      text: 'This will delete all your notifications permanently.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#6b21a8',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, clear all!'\n    });\n\n    if (result.isConfirmed) {\n      try {\n        const response = await fetch(\n          `${API_BASE_URL}/api/notifications/${user.username}/clear-all`,\n          {\n            method: 'DELETE',\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          }\n        );\n\n        const data = await response.json();\n\n        if (data.success) {\n          setNotifications([]);\n          setUnreadCount(0);\n          Swal.fire('Cleared!', 'All notifications have been deleted.', 'success');\n        }\n      } catch (error) {\n        console.error('Error clearing notifications:', error);\n        Swal.fire('Error', 'Failed to clear notifications.', 'error');\n      }\n    }\n  };\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'MESSAGE':\n        return <MessageCircle size={18} className=\"text-blue-600\" />;\n      case 'SWAP_INTEREST':\n        return <Package size={18} className=\"text-purple-600\" />;\n      case 'SWAP_APPROVED':\n        return <CheckCircle size={18} className=\"text-green-600\" />;\n      case 'SWAP_REJECTED':\n        return <XCircle size={18} className=\"text-red-600\" />;\n      default:\n        return <Bell size={18} className=\"text-gray-600\" />;\n    }\n  };\n\n  const getNotificationBgColor = (type: string) => {\n    switch (type) {\n      case 'MESSAGE':\n        return 'bg-blue-100';\n      case 'SWAP_INTEREST':\n        return 'bg-purple-100';\n      case 'SWAP_APPROVED':\n        return 'bg-green-100';\n      case 'SWAP_REJECTED':\n        return 'bg-red-100';\n      default:\n        return 'bg-gray-100';\n    }\n  };\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInMs = now.getTime() - date.getTime();\n    const diffInMinutes = Math.floor(diffInMs / (1000 * 60));\n    const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));\n    const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));\n\n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    if (diffInDays < 7) return `${diffInDays}d ago`;\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n  };\n\n  const handleLogout = () => {\n    Swal.fire({\n      title: 'Logout?',\n      text: 'Are you sure you want to logout?',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#6b21a8',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, logout!'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        localStorage.removeItem('user');\n        localStorage.removeItem('session_token');\n        localStorage.removeItem('last_login_stamp');\n        router.push('/');\n      }\n    });\n  };\n\n  return (\n    <header className=\"bg-white shadow-lg sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Left Side - Logo and Navigation */}\n          <div className=\"flex items-center space-x-8\">\n            {/* Logo */}\n            <Link href=\"/dashboard\" className=\"flex items-center\">\n              <img src=\"/images/logo.png\" alt=\"LetSwap Logo\" className=\"h-8\" />\n            </Link>\n\n            {/* Hamburger Menu for Mobile */}\n            <button\n              className=\"md:hidden p-2 rounded-md text-gray-600 hover:text-purple-600 hover:bg-gray-100\"\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n            >\n              <div className=\"w-6 h-6 flex flex-col justify-center\">\n                <span className={`block h-0.5 w-6 bg-current transform transition duration-300 ease-in-out ${isMenuOpen ? 'rotate-45 translate-y-1.5' : ''}`}></span>\n                <span className={`block h-0.5 w-6 bg-current transition duration-300 ease-in-out mt-1 ${isMenuOpen ? 'opacity-0' : 'opacity-100'}`}></span>\n                <span className={`block h-0.5 w-6 bg-current transform transition duration-300 ease-in-out mt-1 ${isMenuOpen ? '-rotate-45 -translate-y-1.5' : ''}`}></span>\n              </div>\n            </button>\n\n            {/* Desktop Navigation */}\n            <nav className=\"hidden md:flex space-x-6\">\n              <Link href=\"/dashboard\" className=\"text-purple-600 font-medium border-b-2 border-purple-600 py-1\">\n                Home\n              </Link>\n              <Link href=\"/listing\" className=\"text-gray-600 hover:text-purple-600 font-medium py-1 transition duration-200\">\n                Swops\n              </Link>\n              <Link href=\"/messages\" className=\"text-gray-600 hover:text-purple-600 font-medium py-1 transition duration-200\">\n                My Messages\n              </Link>\n              <Link href=\"/add-swap\" className=\"text-gray-600 hover:text-purple-600 font-medium py-1 transition duration-200\">\n                Create a Swop\n              </Link>\n              <Link href=\"/advert-booking\" className=\"text-gray-600 hover:text-purple-600 font-medium py-1 transition duration-200\">\n                Advert Booking\n              </Link>\n            </nav>\n          </div>\n\n          {/* Right Side - User Menu and Notifications */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Notifications */}\n            <div className=\"relative\">\n              <button\n                onClick={() => {\n                  setIsNotificationsOpen(!isNotificationsOpen);\n                  if (!isNotificationsOpen) {\n                    fetchNotifications();\n                  }\n                }}\n                className=\"cursor-pointer p-2 text-gray-600 hover:text-purple-600 relative\"\n              >\n                <Bell size={20} />\n                {unreadCount > 0 && (\n                  <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                    {unreadCount > 9 ? '9+' : unreadCount}\n                  </span>\n                )}\n              </button>\n\n              {/* Notifications Dropdown */}\n              {isNotificationsOpen && (\n                <div className=\"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50\">\n                  <div className=\"p-4 border-b border-gray-200 flex justify-between items-center\">\n                    <h3 className=\"font-semibold text-gray-800\">\n                      Notifications {unreadCount > 0 && `(${unreadCount})`}\n                    </h3>\n                    {notifications.length > 0 && (\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={markAllAsRead}\n                          className=\"text-xs text-purple-600 hover:text-purple-700 font-medium\"\n                        >\n                          Mark all read\n                        </button>\n                        <span className=\"text-gray-300\">|</span>\n                        <button\n                          onClick={clearAllNotifications}\n                          className=\"text-xs text-red-600 hover:text-red-700 font-medium\"\n                        >\n                          Clear all\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"max-h-96 overflow-y-auto\">\n                    {loading ? (\n                      <div className=\"p-8 text-center\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto\"></div>\n                        <p className=\"text-gray-500 text-sm mt-2\">Loading notifications...</p>\n                      </div>\n                    ) : notifications.length === 0 ? (\n                      <div className=\"p-8 text-center\">\n                        <Bell size={48} className=\"mx-auto text-gray-300 mb-4\" />\n                        <p className=\"text-gray-500\">No notifications yet</p>\n                        <p className=\"text-sm text-gray-400 mt-1\">\n                          You'll be notified about messages and swap updates here\n                        </p>\n                      </div>\n                    ) : (\n                      notifications.map((notification) => (\n                        <div\n                          key={notification.id}\n                          onClick={() => handleNotificationClick(notification)}\n                          className={`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition duration-200 ${\n                            !notification.isRead ? 'bg-blue-50' : ''\n                          }`}\n                        >\n                          <div className=\"flex items-start space-x-3\">\n                            <div className={`w-10 h-10 rounded-full flex items-center justify-center ${getNotificationBgColor(notification.type)}`}>\n                              {getNotificationIcon(notification.type)}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex justify-between items-start\">\n                                <p className={`text-sm ${!notification.isRead ? 'font-semibold text-gray-900' : 'text-gray-800'}`}>\n                                  {notification.title}\n                                </p>\n                                {!notification.isRead && (\n                                  <span className=\"ml-2 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0\"></span>\n                                )}\n                              </div>\n                              <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\n                                {notification.message}\n                              </p>\n                              {notification.metadata?.messagePreview && (\n                                <p className=\"text-xs text-gray-500 mt-1 italic line-clamp-1\">\n                                  \"{notification.metadata.messagePreview}\"\n                                </p>\n                              )}\n                              <span className=\"text-xs text-gray-500 mt-1 block\">\n                                {formatTimestamp(notification.createdAt)}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                  \n                  {notifications.length > 0 && (\n                    <div className=\"p-4 text-center border-t border-gray-200\">\n                      <Link \n                        href=\"/notifications\" \n                        className=\"text-purple-600 hover:text-purple-700 font-medium text-sm\"\n                        onClick={() => setIsNotificationsOpen(false)}\n                      >\n                        View All Notifications\n                      </Link>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n\n            {/* User Menu */}\n            <div className=\"relative\">\n              <button\n                onClick={() => setIsUserMenuOpen(!isUserMenuOpen)}\n                className=\"cursor-pointer flex items-center space-x-2 p-2 text-gray-700 hover:text-purple-600\"\n              >\n                <img \n                  src=\"/images/dashboard-avatar.jpg\" \n                  alt=\"User Avatar\" \n                  className=\"w-8 h-8 rounded-full\"\n                />\n                <span className=\"hidden md:block font-medium\">\n                  Hi, {user?.firstName || user?.username}!\n                </span>\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n\n              {/* User Dropdown Menu */}\n              {isUserMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50\">\n                  <div className=\"py-1\">\n                    <Link href=\"/add-swap\" className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                      <Layers size={16} className=\"mr-3\" />\n                      Add Swap\n                    </Link>\n                    <Link href=\"/my-profile\" className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                      <User size={16} className=\"mr-3\" />\n                      My Profile\n                    </Link>\n                    <Link href=\"/my-listing\" className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                      <List size={16} className=\"mr-3\" />\n                      My Swaps\n                    </Link>\n                    <Link href=\"/messages\" className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                      <Mail size={16} className=\"mr-3\" />\n                      Messages\n                    </Link>\n                    <div className=\"border-t border-gray-100\"></div>\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100\"\n                    >\n                      <Power size={16} className=\"mr-3\" />\n                      Logout\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Mobile Navigation Menu */}\n        {isMenuOpen && (\n          <div className=\"md:hidden border-t border-gray-200\">\n            <nav className=\"py-2 space-y-1\">\n              <Link href=\"/dashboard\" className=\"block py-2 px-4 text-purple-600 font-medium bg-purple-50\">\n                Home\n              </Link>\n              <Link href=\"/listing\" className=\"block py-2 px-4 text-gray-600 hover:text-purple-600 hover:bg-gray-50\">\n                Swops\n              </Link>\n              <Link href=\"/messages\" className=\"block py-2 px-4 text-gray-600 hover:text-purple-600 hover:bg-gray-50\">\n                My Messages\n              </Link>\n              <Link href=\"/add-swap\" className=\"block py-2 px-4 text-gray-600 hover:text-purple-600 hover:bg-gray-50\">\n                Create a Swop\n              </Link>\n              <Link href=\"/advert-booking\" className=\"block py-2 px-4 text-gray-600 hover:text-purple-600 hover:bg-gray-50\">\n                Advert Booking\n              </Link>\n            </nav>\n          </div>\n        )}\n      </div>\n\n      {/* Overlay for closing menus when clicking outside */}\n      {(isMenuOpen || isNotificationsOpen || isUserMenuOpen) && (\n        <div \n          className=\"fixed inset-0 z-40\"\n          onClick={() => {\n            setIsMenuOpen(false);\n            setIsNotificationsOpen(false);\n            setIsUserMenuOpen(false);\n          }}\n        ></div>\n      )}\n    </header>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1925, "column": 0}, "map": {"version":3,"sources":["file:///Users/greatware/Desktop/All%20Folders/Projects/Swophere/frontend/src/app/components/footer.tsx"],"sourcesContent":["// components/Footer.tsx\n\nimport Link from 'next/link';\n\nexport default function Footer() {\n  return (\n    <footer className=\"bg-gray-800 text-white\">\n      <div className=\"max-w-7xl mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          {/* About Us */}\n          <div className=\"md:col-span-1\">\n            <h4 className=\"text-lg font-semibold mb-4\">About Us</h4>\n            <p className=\"text-gray-300 text-sm leading-relaxed\">\n              We are building the most effective and efficient global online trade exchange community; \n              where individuals can trade and exchange directly with each other their products, skills \n              and services without the use of CASH.\n            </p>\n          </div>\n\n          {/* Useful Links */}\n          <div>\n            <h4 className=\"text-lg font-semibold mb-4\">Useful Links</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/dashboard\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  Home\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/faqs\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  FAQ\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/contact\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  Contact\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* My Account */}\n          <div>\n            <h4 className=\"text-lg font-semibold mb-4\">My Account</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/messages\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  My Messages\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/my-profile\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  My Profile\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/my-listing\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  My Swops\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* How it Works */}\n          <div>\n            <h4 className=\"text-lg font-semibold mb-4\">How it Works</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/login\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  Sign In\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/signup\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  Register\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/add-swap\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  Add Swop\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/privacy-policy\" className=\"text-gray-300 hover:text-white text-sm transition duration-200\">\n                  Privacy Policy\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Copyright */}\n        <div className=\"border-t border-gray-700 mt-8 pt-8 text-center\">\n          <p className=\"text-gray-400 text-sm\">\n            Copyright  2025 SwopHere. All Rights Reserved.\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AAExB;;;AAEe,SAAS;IACtB,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,6LAAC;oCAAE,WAAU;8CAAwC;;;;;;;;;;;;sCAQvD,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAa,WAAU;0DAAiE;;;;;;;;;;;sDAIrG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAQ,WAAU;0DAAiE;;;;;;;;;;;sDAIhG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAW,WAAU;0DAAiE;;;;;;;;;;;;;;;;;;;;;;;sCAQvG,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAY,WAAU;0DAAiE;;;;;;;;;;;sDAIpG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAc,WAAU;0DAAiE;;;;;;;;;;;sDAItG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAc,WAAU;0DAAiE;;;;;;;;;;;;;;;;;;;;;;;sCAQ1G,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAiE;;;;;;;;;;;sDAIjG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAU,WAAU;0DAAiE;;;;;;;;;;;sDAIlG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAY,WAAU;0DAAiE;;;;;;;;;;;sDAIpG,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDAAC,MAAK;gDAAkB,WAAU;0DAAiE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAShH,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAO/C;KAhGwB","debugId":null}},
    {"offset": {"line": 2237, "column": 0}, "map": {"version":3,"sources":["file:///Users/greatware/Desktop/All%20Folders/Projects/Swophere/frontend/src/app/listing/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport SwapDetailPage from \"@/app/components/listing\";\nimport Menu from '../components/menu';\nimport { User } from '../components/menu';\nimport Footer from '../components/footer';\n\n\n\nexport default function Swops(){\n    const [user, setUser] = useState<User | null>(null);\n    const router = useRouter();\n\n    useEffect(() => {\n        const fetchUserData = async () => {\n            try {\n                // Check if we're in browser environment\n                if (typeof window !== 'undefined') {\n                  const storedUser = localStorage.getItem('user');\n                  if (storedUser) {\n                    const userData = JSON.parse(storedUser);\n                    setUser(userData);\n                  } else {\n                    // If no user in localStorage, redirect to login\n                    router.push('/login');\n                    return;\n                  }\n                }\n              } catch (error) {\n                console.error('Error fetching user data:', error);\n                router.push('/login');\n              }\n            };\n    \n        fetchUserData();\n      }, [router]);\n\n    return(\n        <>\n            <Menu user={user} />\n            <SwapDetailPage />\n            <Footer />\n        </>\n    )\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAEA;;;AAPA;;;;;;AAWe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2BAAE;YACN,MAAM;iDAAgB;oBAClB,IAAI;wBACA,wCAAwC;wBACxC,wCAAmC;4BACjC,MAAM,aAAa,aAAa,OAAO,CAAC;4BACxC,IAAI,YAAY;gCACd,MAAM,WAAW,KAAK,KAAK,CAAC;gCAC5B,QAAQ;4BACV,OAAO;gCACL,gDAAgD;gCAChD,OAAO,IAAI,CAAC;gCACZ;4BACF;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,6BAA6B;wBAC3C,OAAO,IAAI,CAAC;oBACd;gBACF;;YAEJ;QACF;0BAAG;QAAC;KAAO;IAEb,qBACI;;0BACI,6LAAC,oIAAA,CAAA,UAAI;gBAAC,MAAM;;;;;;0BACZ,6LAAC,uIAAA,CAAA,UAAc;;;;;0BACf,6LAAC,sIAAA,CAAA,UAAM;;;;;;;AAGnB;GAnCwB;;QAEL,qIAAA,CAAA,YAAS;;;KAFJ","debugId":null}}]
}